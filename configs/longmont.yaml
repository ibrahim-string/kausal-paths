id: longmont
default_language: en
supported_languages: [es]
site_url: https://longmont.paths-test.kausal.tech
dataset_repo:
  url: https://github.com/kausaltech/dvctest.git
  commit: 80562a5a7422c83dbfc60728529cfc5eafef4667
  dvc_remote: kausal-s3
name: Longmont Greenhouse gas inventory
owner_en: City of Longmont
theme_identifier: us-longmont
target_year: 2040
model_end_year: 2050
reference_year: 2016
minimum_historical_year: 2010
maximum_historical_year: 2021
emission_unit: t/a
emission_forecast_from: 2022
emission_dimensions: [emission_scope]
emission_dataset: longmont/greenhouse_gas_emissions_by_subsector
emission_sector_dimension: emission_sectors
normalizations:
- normalizer_node: population
  quantities:
  - id: emissions
    unit: t/cap/a
  - id: energy
    unit: kWh/cap/a
  - id: mileage
    unit: miles/cap/a
features:
  baseline_visible_in_graphs: false

dimensions:
- id: emission_scope
  label: Emission scopes
  categories:
  - id: scope1
    label: Scope 1
    color: '#0f05a0'
    order: 0
  - id: scope2
    label: Scope 2
    color: '#30505e'
    order: 1
  - id: scope3
    label: Scope 3
    color: '#6496ff'
    order: 2
  - id: negative_emissions
    label: Negative emissions
    color: '#F7A5AF'
    order: -1

- id: emission_sectors
  label: Emission sectors
  categories:
  - id: stationary_energy
    label: Stationary energy
  - id: buildings
    label: Building energy
  - id: residential_energy
    label: Residential energy
  - id: commercial_industrial_energy
    label: Commercial and industrial energy
  - id: stationary_electricity
    label: Total electricity
  - id: stationary_natural_gas
    label: Total natural gas
  - id: stationary_diesel
    label: Total diesel
  - id: fugitive_emissions
    label: Fugitive emissions
  - id: leakage_from_natural_gas
    label: Leakage from natural gas
  - id: leakage_from_oil_and_gas_wells
    label: Total oil and gas wells
  - id: transmission_losses
    label: Transmission and distribution losses
  - id: transport
    label: Transportation
  - id: on_road_transportation
    label: Total on-road
  - id: aviation
    label: Aviation
  - id: railways
    label: Total railways
  - id: off_road
    label: Total off-road
  - id: waste
    label: Waste
  - id: waste_disposal
    label: Waste disposal
  - id: waste_water_treatment
    label: Waste water treatment
  - id: avoided_waste
    label: Total avoided emissions from recycling
  - id: ippu
    label: Industrial processes and product use
  - id: refridgerant
    label: Refridgerant emissions
  - id: afolu
    label: Agriculture, forestry, and other land use
  - id: food_consumption
    label: Food
  - id: textile_consumption
    label: Textiles
  - id: other_consumption
    label: Other consumption

- id: vehicle_type
  label: Vehicle type
  groups:
  - id: cars
    label: Cars
    id_match: ^car_.+
  - id: motorbikes
    label: Motorbikes
    id_match: ^motorbike_.+
  - id: buses
    label: Local buses
    id_match: ^buses_.+
  - id: trolleybuses
    label: Trolley buses
    id_match: ^trolley.*
  - id: coaches
    label: Coaches
    id_match: ^coach_.+
  - id: lorries
    label: Lorries
    id_match: ^lorry_.+
  - id: vans
    label: Vans
    id_match: ^van_.+
  - id: rail
    label: Rail transport
    id_match: ^(tram|small_railways|rail).*
  - id: maritime
    label: Maritime transport
    id_match: ^.*_ship_.*
  - id: mobility_outside_city
    label: Mobility ourside the city
    id_match: ^mobility_outside_city
  - id: aviation
    label: Aviation
    id_match: ^aviation

  categories:
  - id: motorcycle
    label: Motorcycle
  - id: car
    label: Passenger Car
  - id: light_duty
    label: Light Duty
  - id: bus
    label: Bus
  - id: single_unit_truck
    label: Single Unit Truck
  - id: combination_unit_truck
    label: Combination Unit Truck
  - id: car_petrol
    label: Passenger cars / Petrol
  - id: car_diesel
    label: Passenger cars / Diesel
  - id: car_natural_gas_biogas
    label: Passenger cars / Natural gas / biogas
  - id: car_plugin_hybrid
    label: Passenger cars / Plug-in hybrid
  - id: car_batteryelectric
    label: Passenger cars / Battery-Electric
  - id: car_fuel_cell
    label: Passenger cars / Fuel cell
  - id: motorbike_petrol_4stroke
    label: Motorbikes / Petrol 4-stroke engine
  - id: motorbike_petrol_2stroke
    label: Motorbikes / Petrol 2-stroke engine
  - id: motorbike_batteryelectric
    label: Motorbikes / Battery-Electric
  - id: buses_diesel
    label: Regular buses / Diesel
  - id: buses_diesel_hybrid
    label: Regular buses / Diesel hybrid
  - id: buses_diesel_plugin_hybrid
    label: Regular buses / Diesel plug-in hybrid
  - id: buses_batteryelectric
    label: Regular buses / Battery-Electric
  - id: buses_fuel_cell
    label: Regular buses / Fuel cell
  - id: trolley
    label: Trolley buses
  - id: coach_diesel
    label: Coaches / Diesel
  - id: coach_natural_gas_biogas
    label: Coaches / Natural gas/Biogas
  - id: coach_battery_electric
    label: Coaches / Battery-Electric
  - id: coach_fuel_cell
    label: Coaches / Fuel cell
  - id: lorry_diesel
    label: Lorries / Diesel
  - id: lorry_natural_gas_biogas
    label: Lorries / Natural gas/Biogas
  - id: lorry_diesel_plugin_hybrid
    label: Lorries / Diesel plug-in hybrid
  - id: lorry_battery_electric
    label: Lorries / Battery-Electric
  - id: lorry_fuel_cell
    label: Lorries / Fuel cell
  - id: van_petrol
    label: Vans / Petrol
  - id: van_diesel
    label: Van / Diesel
  - id: van_natural_gas_biogas
    label: Van / Natural gas/Biogas
  - id: van_diesel_plugin_hybrid
    label: Van / Plug-in hybrid
  - id: van_battery_electric
    label: Van / Battery-Electric
  - id: van_fuel_cell
    label: Van / Fuel cell
  - id: tram
    label: Tram
  - id: small_railways
    label: Small railways
  - id: rail_passenger
    label: Rail (passenger transport)
  - id: rail_goods
    label: Rail (goods transport)
  - id: liner_ship_diesel
    label: Liner ship / Diesel
  - id: liner_ship_battery_electric
    label: Liner ship / Battery-Electric
  - id: private_ship_petrol
    label: Private ships / Petrol
  - id: private_ship_diesel
    label: Private ships / Diesel
  - id: private_ship_battery_electric
    label: Private ships / Battery-Electric
  - id: mobility_outside_city
    label: Mobility ourside the city (excl. aviation)
  - id: aviation
    label: Aviation

- id: greenhouse_gases
  label: Greenhouse gases
  categories:
  - id: co2_eq
    label: CO2 equivalent
  - id: co2
    label: CO2, fossil
    aliases: [co2_fossil]
  - id: ch4
    label: CH4
  - id: n2o
    label: N2O
  - id: hfc
    label: HFC
  - id: pfc
    label: PFC
  - id: sf6
    label: SF6
  - id: nf3
    label: NF3
  - id: co2_biogen
    label: CO2, biogen

- id: energy_carrier
  label: Energy carrier
  categories:
  - id: electricity
    label: Electricity
  - id: fuel_oil
    label: Heating oil
  - id: petrol
    label: Gasoline
    aliases: [Petrol]
  - id: diesel
    label: Diesel
  - id: ethanol
    label: Ethanol
  - id: plug_in_hybrid
    label: Plug-in hybrid EV
  - id: kerosene
    label: Jet fuel
  - id: aviation_gasoline
    label: Aviation gasoline
  - id: natural_gas
    label: Natural gas
  - id: biogas
    label: biogas
  - id: propane
    label: Propane
  - id: district_heat
    label: District heating
  - id: wood
    label: Wood
  - id: environmental_heat
    label: Environmental heat
  - id: solar_collectors
    label: Solar thermal collectors
  - id: waste
    label: Waste

- id: electricity_source
  label: Electricity source
  categories:
  - id: hydro
    label: Hydropower
  - id: nuclear
    label: Nuclear power
  - id: natural_gas
    label: Natural gas
  - id: solar
    label: Solar
  - id: biogas
    label: Biogas
  - id: waste
    label: Waste incineration
  - id: wind
    label: Wind
  - id: wood
    label: Wood
  - id: fuel_oil
    label: Heating oil
  - id: import
    label: European import
    aliases:
    - UCTE-Mix / ENTSO-E Mix
    - Nicht deklariert (UCTE)
    - Nicht deklariert (UCTE-Mix)
  - id: subsidized
    label: Subsidized electricity

- id: site
  label: Production or consumption site
  categories:
  - id: longmont_power
    label: Longmont Power
  - id: xcel_energy
    label: Xcel Energy
  - id: various
    label: Various
  - id: home
    label: Home

- id: use_type
  label: Use type
  categories:
  - id: commercial
    label: Commercial and industrial
  - id: residential
    label: Residential
  - id: streetlights
    label: Streetlights

params:
- id: municipality_name
  value: longmont

emission_sectors:
- id: net_emissions
  name: Greenhouse gas emissions
  color: #E22D53
  input_node_dimension:
    label: Emission sectors
  target_year_goal: 6.5
  goals:
    normalized_by: population
    values:
    - year: 2040
      value: 6.5
  is_outcome: true
  description: Greenhouse gas emissions

# Sector emissions

- id: stationary_energy_emissions
  name: Stationary energy emissions  # FIXME There is apparently double counting due to building_emissions
  part_of: net_emissions
  color: #E22D53
  input_dataset_processors: [LinearInterpolation]

- id: transportation_emissions
  name: Transportation emissions
  part_of: net_emissions
  category: transport
  color: #E22D53
  input_dataset_processors: [LinearInterpolation]

- id: waste_emissions
  name: Waste emissions
  part_of: net_emissions
  color: #F18830
  category: waste
  input_dataset_processors: [LinearInterpolation]

- id: ippu_emissions
  name: Industrial processes and product use emissions
  part_of: net_emissions
  color: #8DAFBC
  input_dataset_processors: [LinearInterpolation]

- id: afolu_emissions
  name: Agriculture,forestry, and other land use emissions
  category: afolu
  part_of: net_emissions
  input_dataset_processors: [LinearInterpolation]

# Subsector emissions

- id: fugitive_emissions
  name: Fugitive emissions
  category: fugitive_emissions
  color: #8DAFBC
  part_of: stationary_energy_emissions
  input_dataset_processors: [LinearInterpolation]

- id: building_emissions
  name: Building emissions
  category: buildings
  color: #002F96
  part_of: stationary_energy_emissions
  input_dataset_processors: [LinearInterpolation]

- id: waste_disposal_emissions
  name: Waste disposal emissions
  category: waste_disposal
  part_of: waste_emissions
  input_dataset_processors: [LinearInterpolation]

- id: waste_water_treatment_emissions
  name: Waste water treatment emissions
  category: waste_water_treatment
  part_of: waste_emissions
  input_dataset_processors: [LinearInterpolation]

- id: avoided_emissions_from_recycling
  name: Avoided emissions from recycling
  category: avoided_waste
  part_of: waste_emissions
  input_dataset_processors: [LinearInterpolation]

- id: refridgerant_emissions
  name: Refridgerant emissions
  category: refridgerant
  part_of: ippu_emissions
  input_dataset_processors: [LinearInterpolation]

- id: on_road_transportation_emissions
  name: On-road transportation
  category: on_road_transportation
  part_of: transportation_emissions
  input_dataset_processors: [LinearInterpolation]

- id: aviation_emissions
  name: Aviation_emissions
  category: aviation
  part_of: transportation_emissions
  input_dataset_processors: [LinearInterpolation]

- id: railways_emissions
  name: Railways emissions
  category: railways
  part_of: transportation_emissions
  input_dataset_processors: [LinearInterpolation]

- id: off_road_transportation
  name: Off-road transportation
  category: off_road
  part_of: transportation_emissions
  input_dataset_processors: [LinearInterpolation]

- id: leakage_from_natural_gas_emissions
  name: Emissions from natural gas leakage
  category: leakage_from_natural_gas
  part_of: fugitive_emissions
  input_dataset_processors: [LinearInterpolation]

- id: leakage_from_oil_and_gas_wells_emissions
  name: Emissions from leakages from oil and gas wells
  category: leakage_from_oil_and_gas_wells
  part_of: fugitive_emissions
  input_dataset_processors: [LinearInterpolation]

nodes:
- id: population
  name: Inhabitants
  description: Population estimates from several sources. (a) 2016 - 2020 population
    estimates came from the Colorado Demography Office. Spreadsheet on file.
    (b) According to Longmont's Envision Plan (2016), Longmont's population is expected
    to grow by 24,165 residents from 2016 numbers by 2035. Population figures between
    2021 and 2035 assume a linear increase. (c) Population estimates between 2036 and
    2050 are based off the estimated annual population increase rate for Boulder County
    between 2035 and 2050. This rate is 0.501%. Raw data was taken from
    <a href="https://demography.dola.colorado.gov/assets/html/county.html">Colorado
    Department of Local Affairs</a>.
  type: simple.AdditiveNode
  quantity: population
  unit: cap
  historical_values: [[2010, 86270], [2016, 92880], [2017, 94461], [2018, 96398],
    [2019, 97619], [2020, 99129], [2021, 100323]]
  forecast_values: [[2022, 101517], [2023, 102711], [2024, 103906], [2025, 105100],
    [2030, 111072], [2035, 117045], [2040, 120006], [2045, 123042], [2050, 126156]]
  input_dataset_processors: [LinearInterpolation]

- id: global_warming_potential_100a
  name: Global warming potential 100 a
  type: emissions.GlobalWarmingPotential
  quantity: emission_factor
  unit: dimensionless
  output_dimensions: [greenhouse_gases]
  input_dataset_processors: [LinearInterpolation]
  historical_values: [[1990, 1], [2021, 1]]

- id: historical_emissions
  name: Historical emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt/a
  input_datasets:
  - id: longmont/greenhouse_gas_emissions_by_subsector
  output_dimensions: [emission_scope, emission_sectors]
  output_nodes:
  - id: residential_emissions
    from_dimensions:
    - id: emission_sectors
      categories: [residential_energy, commercial_industrial_energy]

- id: residential_emissions
  name: Residential emissions
  type: simple.AdditiveNode
  quantity: emissions
  unit: kt/a
  input_dimensions: [emission_scope, emission_sectors]
  output_dimensions: [emission_scope, emission_sectors]

#
# STATIONARY
#

- id: building_electricity_consumption
  name: Housing and commerce electricity consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_datasets:
  - longmont/stationary_electricity_use
  output_nodes:
  - electricity_consumption
  output_dimensions: [use_type, site]

- id: electricity_consumption
  name: Electricity consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [use_type, site]
  output_dimensions: [use_type, site]

- id: electricity_emission_factor
  name: Emission factor of electricity production
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t/MWh
  input_datasets:
  - longmont/electricity_emission_factor
  input_dimensions: [site, greenhouse_gases]
  output_dimensions: [site, greenhouse_gases]

- id: electricity_consumption_emissions
  name: Electricity consumption emissions
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  output_dimensions: [greenhouse_gases, use_type, site]
  input_nodes:
  - id: electricity_consumption
    to_dimensions:
    - id: use_type
    - id: site
  - id: electricity_emission_factor
    to_dimensions:
    - id: greenhouse_gases
    - id: site
  output_nodes:
  - id: building_emissions
    from_dimensions:
    - id: site
      flatten: true
    - id: greenhouse_gases
      flatten: true
    - id: use_type
      flatten: true
    to_dimensions:
    - id: emission_scope
      categories: [scope2]

- id: natural_gas_consumption
  name: Natural gas consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: Mthm/a
  input_datasets:
  - longmont/stationary_natural_gas_use
  input_dimensions: [use_type, energy_carrier]
  output_dimensions: [use_type, energy_carrier]

- id: emission_factor_natural_gas
  name: Emission factor of natural gas
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t/thm
  input_datasets:
  - longmont/emission_factor_natural_gas
  output_dimensions: [energy_carrier, greenhouse_gases]

- id: natural_gas_consumption_emissions
  name: Natural gas consumption emissions
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  output_dimensions: [greenhouse_gases, use_type, energy_carrier]
  input_nodes:
  - id: natural_gas_consumption
    to_dimensions:
    - id: use_type
    - id: energy_carrier
  - id: emission_factor_natural_gas
    to_dimensions:
    - id: greenhouse_gases
    - id: energy_carrier
  output_nodes:
  - id: building_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: greenhouse_gases
      flatten: true
    - id: use_type
      flatten: true
    to_dimensions:
    - id: emission_scope
      categories: [scope1]

- id: stationary_fuel_consumption
  name: Stationary fuel consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: gal/a
  input_datasets:
  - longmont/stationary_fuel_use
  input_dimensions: [use_type, energy_carrier]
  output_dimensions: [use_type, energy_carrier]

- id: emission_factor_fuel
  name: Emission factor of stationary fuels
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t/gal
  input_datasets:
  - longmont/emission_factor_fuels
  output_dimensions: [energy_carrier, greenhouse_gases]

- id: stationary_fuel_consumption_emissions
  name: Stationary fuel consumption emissions
  description: 1) Stationary Diesel Use data was provided by Adam Wozniak at CDPHE. Spreadsheet on file.
    2) Xcel Energy emission factor, electricity and natural gas usage data, and renewable energy data
    is from Xcel's 2021 Community Energy Report for Longmont, on file. 
    3) Longmont Power & Communications data provided by Chuck Finleon. PDF on file. Per Francie Jaffe.
    The commercial buildings in Longmont's Weld County portion consumed 31,000,000 kWh in 2021.
    4) T&D losses are calculated for Xcel and Longmont based on the EIA 861
    (https://www.eia.gov/electricity/data/eia861/) reported data. Specifically the Utility
    Operational Data_2021. Spreadsheet on file.
    5) Propane data provided by Matt Hanson with FerrellGas. Spreadsheet on file.
    6) Houses heated with wood were pulled from the US Census Bureau, data on file. It was assumed
    that all of the houses heated by wood in Longmont fell within the Boulder County portion of Longmont.
    7) Longmont Power and Communications data was provided in an email by Chuck Finleon with
    Longmont Power & Communications. PDF on file.
    8) Longmont Power & Communications and Lyons Municipal rooftop solar data was provided in kW of
    capacity rather than kWh generated. NREL's PVWatts wasused to estimate kWh generated by rooftop
    solar systems. PDF of results on file. See https://pvwatts.nrel.gov/
    10) Due to Xcel's 15/15 rule, with less than 15 customers in the commercial and residential
    data sets they cannot provide usage for those customers to avoid violating privacy concerns.
    Therefore Lotus applied the average residential and commercial kWh use from LPC to the 7
    residential and commercial customers (respectively) in Xcel territory to estimate use.
    11) PRPA emission factor and transmission and distribution loss rate for 2021 was provided by
    Francie Jaffe. Email on file. Emissions factor value represents Longmont's load share emissions
    rate without unbundled RECs. 
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  output_dimensions: [greenhouse_gases, use_type, energy_carrier]
  input_nodes:
  - id: stationary_fuel_consumption
    to_dimensions:
    - id: use_type
    - id: energy_carrier
  - id: emission_factor_fuel
    to_dimensions:
    - id: greenhouse_gases
    - id: energy_carrier
  output_nodes:
  - id: building_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: greenhouse_gases
      flatten: true
    - id: use_type
      flatten: true
    to_dimensions:
    - id: emission_scope
      categories: [scope1]

- id: stationary_wood_consumption
  name: Stationary wood consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: MMBtu/a
  input_datasets:
  - longmont/stationary_wood_consumption
  input_dimensions: [use_type]
  output_dimensions: [energy_carrier, use_type]

- id: emission_factor_wood
  name: Emission factor of wood
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: kg/MMBtu
  input_datasets:
  - longmont/emission_factor_wood
  output_dimensions: [energy_carrier, greenhouse_gases]

- id: wood_consumption_emissions
  name: Wood consumption emissions
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  output_dimensions: [greenhouse_gases, use_type, energy_carrier]
  input_nodes:
  - id: stationary_wood_consumption
    to_dimensions:
    - id: use_type
    - id: energy_carrier
      categories: [wood]
  - id: emission_factor_wood
    to_dimensions:
    - id: greenhouse_gases
    - id: energy_carrier
  output_nodes:
  - id: building_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    - id: greenhouse_gases
      flatten: true
    - id: use_type
      flatten: true
    to_dimensions:
    - id: emission_scope
      categories: [scope2]

- id: electricity_loss_fraction
  name: Electricity loss fraction
  type: simple.AdditiveNode
  quantity: fraction
  unit: '%'
  input_datasets:
  - longmont/transmission_and_distribution_loss
  output_dimensions: [energy_carrier, site]
  output_nodes:
  - id: electricity_losses
    from_dimensions:
    - id: energy_carrier
      categories: [electricity]
      flatten: true
    to_dimensions:
    - id: site

- id: electricity_losses
  name: Electricity losses
  type: simple.MultiplicativeNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [site, use_type]
  output_dimensions: [site, use_type]
  input_nodes:
  - id: building_electricity_consumption
    tags: [non_additive]

- id: electricity_loss_emissions
  name: Emissions due to electricity losses
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  input_nodes:
  - id: electricity_losses
    to_dimensions:
    - id: use_type
    - id: site
  - id: electricity_emission_factor
    to_dimensions:
    - id: site
    - id: greenhouse_gases
  output_dimensions: [site, greenhouse_gases, use_type]
  output_nodes:
  - id: electricity_consumption_emissions
    to_dimensions:
    - id: site
    - id: use_type
    - id: greenhouse_gases

- id: equity_share_emission_factor
  name: Equity share emission factor (PRPA)
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t/MWh
  historical_values: [[2016, 0.653425619265069], [2017, 0.634943792208221], [2018, 0.634170819259509],
    [2019, 0.634622024854203], [2020, 0.630074879896273], [2021, 0.597542340000648]]
  forecast_values: [[2022, 0.612973049990462], [2023, 0.59667980157133], [2024, 0.533300661663419],
    [2025, 0.535192439962255], [2030, 0.0378296375207333], [2035, 0.0329530007531907],
    [2040, 0.0487305634399853], [2045, 0.0487305634399853], [2050, 0.0487305634399853]]

- id: equity_share_electricity_use
  name: Equity share electricity use
  type: simple.AdditiveNode
  quantity: energy
  unit: kWh/a
  historical_values: [[2016, 1210910586.71672], [2017, 1201888286.76237], [2018, 1215917061.77312],
  [2019, 1212866104.25016], [2020, 1219903307.18383], [2021, 1226940510.11749]]
  foreast_values: [[2022, 1233977713.05115], [2030, 1290275336.52046], [2050, 1431019395.19372]]

# FIXME How to treat this to avoid double counting?
- id: equity_share_emissions
  name: Equity share emissions
  description: PRPA provided data on Longmont's equity share of emissions, which are based on the resource
    mix of all power purchased, generated, and supplied by PRPA to it's customers. Longmont's equity
    share of emissions represents the City's 26.13% ownership in PRPA, and therefore the same share
    of responsibility for PRPA's emissions generated in 2021. This equity share value is provided
    here for information only, and is not included in GPC totals. The use of electricity supplied
    by PRPA in Longmont (i.e., Longmont's load share emissions) is included in the calculation of
    total PRPA  emissions. To avoid double counting the emissions associated with the electricity
    consumed in Longmont, Longmont's additional equity share emissions are calculated in cell E90. 
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  input_nodes:
  - equity_share_emission_factor
  - equity_share_electricity_use

#
# TRANSPORTATION
#

- id: emission_factor_fuels
  name: Fuel emission factors
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: kg/gal
  input_datasets:
  - longmont/emission_factor_fuels
  input_dimensions: [energy_carrier, greenhouse_gases]
  output_dimensions: [energy_carrier, greenhouse_gases]

#- id: vehicle_efficiency
#  name: Vehicle efficiency
#  type: simple.AdditiveNode
#  quantity: emission_factor
#  unit: miles/gallon
#  input_datasets:
#  - longmont/fuel_concumption_by_vehicle_type
#  input_dimensions: [energy_carrier, vehicle_type]
#  output_dimensions: [energy_carrier, vehicle_type]


actions:
- id: commercial_power_purchase_program
  name: Commercial power purchase program
  type: simple.CumulativeAdditiveAction
  quantity: energy
  unit: kWh/a
  forecast_values: [[2022, 0], [2023, -3544251]]
  output_nodes:
  - id: building_electricity_consumption
    to_dimensions:
    - id: use_type
      categories: [commercial]
    - id: site
      categories: [longmont_power]

- id: residential_power_purchase_program
  name: Residential power purchase program
  type: simple.CumulativeAdditiveAction
  quantity: energy
  unit: kWh/a
  forecast_values: [[2022, 0], [2023, -3550001]]
  output_nodes:
  - id: building_electricity_consumption
    to_dimensions:
    - id: use_type
      categories: [residential]
    - id: site
      categories: [longmont_power]

- id: residential_rooftop_solar
  name: Residential rooftop solar
  type: simple.CumulativeAdditiveAction
  quantity: energy
  unit: kWh/a
  forecast_values: [[2022, 0], [2023, -5080497]]
  output_nodes:
  - id: building_electricity_consumption
    to_dimensions:
    - id: use_type
      categories: [residential]
    - id: site
      categories: [longmont_power]

- id: longmont_equity_share_platte_river_power_authority
  name: Longmont equity share emissions from Platte River Power Authority
  type: simple.CumulativeAdditiveAction
  quantity: emissions  # FIXME Is this negative emission or what happens here?
  unit: t/a
  forecast_values: [[2022, 0], [2023, 307035]]
  output_nodes:
  - id: building_emissions
    to_dimensions:
    - id: emission_scope
      categories: [scope1]

# FIXME Should we use emission factors from the inventory file or scenario model file? They do not match.
- id: reduce_electricity_emission_factor
  name: Reduce electricity emission factors
  description: <p>Xcel emission factors for 2016 - 2020 were provided in Xcel's
    Community Energy Reports. Xcel Energy has committed to reducing carbon emissions
    80% by 2030 based on a 2005 baseline and to being a zero-carbon electric utility
    by 2050. While this goal applies to Xcel's entire territory and carbon emissions,
    Xcel noted that Colorado's specific goal is very close and that emission factors
    follow the same trajectory; hence, Xcel's corporate goal could be reasonably
    applied to Colorado's emission factors. Based on Xcel's goals, the Xcel 2030
    emissions factor will be 370 lbs. CO2/MWh or 0.168 mt CO2e/MWh (this represents
    an 80% reduction in the utility's 2005 emissions factor of 1,849 lbs. CO2/MWh or
    0.843 mt CO2e/MWh). Per recommendation of Xcel, to account for N2O and CH4 we
    multiplied the CO2 emission factor included in the Community Energy Reports by 1.002.</p>
    <p>LPC's emission factors for both the BAU and 100% renewable energy emission
    factor were taken from Group 14's Longmont Policy Tool.</p>
    <p>BAU Electricity Emission Factors represent the BAU scenario without LPC
    commitment for 100% renewable electricity based on the 2020 IRP. Emission Factors
    were selected based on the assumption of not including what is sold to other communities.</p>
    <p>The average electricity emission factor was determined based on the proportion
    of electricity consumed in Longmont from each utility in 2016 and in 2018.
    Electricity consumption data taken from Longmont's 2016 GHG inventory was
    used to calculate the average EF for 2016 and 2-17. In 2016, 768,023,177
    total kWh consumed; 453,577 kWh from Xcel Energy; and 767,569,600 kWh from LPC.
    This resulted in the following breakdown of energy provided versus total
    energy consumed, 0.06% by Xcel Energy and 99.94% by LPC. For 2018 through 2050
    the proportion of electricity provided by each utility in 2018 was used to
    calculate the average EF. Xcel provided 0.0003% of Longmont's electricity
    in 2018 and LPC provided 99.997%.</p>
  type: linear.ReduceAction
  quantity: emission_factor
  unit: t/MWh
  output_nodes:
  - electricity_emission_factor
  params:
  - id: reduce
    unit: t/MWh
    is_customizable: false
    value:
    - target:
        node: electricity_emission_factor
        categories:
          greenhouse_gases: co2
          site: xcel_energy
      amounts:
      - year: 2023
        amount: -0.037675
      - year: 2030
        amount: -0.037675
      - year: 2031
        amount: -0.0084168
      - year: 2050
        amount: -0.0084168

- id: longmont_power_renewables
  name: Longmont Power with 100 % renewables
  description: <p>To model the impact of a 100% renewable goal by 2030, electricity emission
    factors from LPC were changed to reflect a 0 MT CO2e/MWh by 2030. Values between
    2020 and 2030 were taken from Group 14's Longmont Policy Tool. For PRPA's
    assumptions, see Email re 2019 EF Calculations for PRPA. Xcel provides
    0.01% - 0.06% of total energy to Longmont and has committed to a 80% reduction
    by 2030; these numbers were not updated.</p>
  type: linear.ReduceAction
  quantity: emission_factor
  unit: t/MWh
  output_nodes:
  - electricity_emission_factor
  params:
  - id: reduce
    unit: t/MWh
    is_customizable: false
    value:
    - target:
        node: electricity_emission_factor
        categories:
          greenhouse_gases: co2
          site: longmont_power
      amounts:
      - year: 2023
        amount: -0.068625
      - year: 2030
        amount: -0.068650
      - year: 2031
        amount: 0
    - target:
        node: electricity_emission_factor
        categories:
          greenhouse_gases: co2
          site: various
      amounts:
      - year: 2023
        amount: -0.0626
      - year: 2030
        amount: -0.0625
      - year: 2031
        amount: 0

pages:
- id: home
  name: Longmont Greenhouse Gas Inventory
  path: /
  type: emission
  node: direct_emissions
  lead_title_en: Development version
  lead_paragraph_en: <p>This is a test version of the City of Longmont's interactive
    scenario modeling platform for the Net Zero goal. All information on this website
    is to be considered incomplete and experimental.</p>
    <p>The goal of this tool is to provide a transparent and defensible calculation
    methodology for estimating the potential of GHG emission reduction strategies
    and interactive data visualizations to represent the emission reduction potential
    of those strategies.</p>
    <p><b>Background</b></p>
    <p>This spreadsheet compiles strategy information and associated assumptions
    and data to estimate GHG emission reductions from key building energy, electric
    grid, renewable energy, mobile, solid waste, and oil and gas strategies.
    Previous versions of this model based emission reductions  on Longmont's "core"
    emissions, which include emissions from electricity, natural gas, gasoline,
    solid waste, and oil wells. These emission sources are the main focus of the
    GHG reduction strategies and make up approximately 83% of Longmont's total
    emissions in 2016 as reported in the Final_City of Longmont 2016 GHG Inventory
    Workbook. This updated version of the model bases emissions reductions on
    Longmont's total emissions. This update also added emission values from
    Longmont's 2019 emissions inventory as reported in the
    FINAL_Longmont_2019_Inventory_060220 workbook.</p>

- id: updating
  name: Updating Guide
  path: /updating

scenarios:
- id: baseline
  name: Baseline
  params:
  - id: reduce_electricity_emission_factor.enabled
    value: true

- id: default
  default: true
  name: Net Zero 2040
  all_actions_enabled: true

##################
# DESCRIPTION OF DATA AND CALCULATIONS
# 
