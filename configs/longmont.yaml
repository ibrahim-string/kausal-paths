id: longmont
default_language: en
supported_languages: [es]
site_url: https://longmont.paths-test.kausal.tech
dataset_repo:
  url: https://github.com/kausaltech/dvctest.git
  commit: e9d0d1ef3ede5d5ee51d4c27192f2fbc202bb55c
  dvc_remote: kausal-s3
name: Longmont Greenhouse gas inventory
owner_en: City of Longmont
theme_identifier: default
target_year: 2040
model_end_year: 2050
reference_year: 2016
minimum_historical_year: 2010
maximum_historical_year: 2021
emission_unit: kt/a
emission_forecast_from: 2022
emission_dimensions: [greenhouse_gases]
emission_dataset: longmont/greenhouse_gas_emissions
emission_sector_dimension: emission_sectors
normalizations:
- normalizer_node: population
  quantities:
  - id: emissions
    unit: t/cap/a
  - id: energy
    unit: kWh/cap/a
  - id: mileage
    unit: km/cap/a
features:
  baseline_visible_in_graphs: false

dimensions:
- id: emission_scope
  label: Emission scopes
  categories:
  - id: scope1
    label: Scope 1
    color: '#0f05a0'
    order: 0
  - id: scope2
    label: Scope 2
    color: '#30505e'
    order: 1
  - id: scope3
    label: Scope 3
    color: '#6496ff'
    order: 2
  - id: negative_emissions
    label: Negative emissions
    color: '#F7A5AF'
    order: -1

- id: emission_sectors
  label: Emission sectors
  categories:
  - id: buildings
    label: Buildings
  - id: transport
    label: Transportation
  - id: waste_treatment
    label: Waste treastment
  - id: ippu
    label: Industrial and commercial process emissions
  - id: afolu
    label: Agriculture and forestry emissions
  - id: aviation
    label: Aviation
  - id: food_consumption
    label: Food
  - id: textile_consumption
    label: Textiles
  - id: other_consumption
    label: Other consumption

- id: vehicle_type
  label: Vehicle type
  groups:
  - id: cars
    label: Cars
    id_match: ^car_.+
  - id: motorbikes
    label: Motorbikes
    id_match: ^motorbike_.+
  - id: buses
    label: Local buses
    id_match: ^buses_.+
  - id: trolleybuses
    label: Trolley buses
    id_match: ^trolley.*
  - id: coaches
    label: Coaches
    id_match: ^coach_.+
  - id: lorries
    label: Lorries
    id_match: ^lorry_.+
  - id: vans
    label: Vans
    id_match: ^van_.+
  - id: rail
    label: Rail transport
    id_match: ^(tram|small_railways|rail).*
  - id: maritime
    label: Maritime transport
    id_match: ^.*_ship_.*
  - id: mobility_outside_city
    label: Mobility ourside the city
    id_match: ^mobility_outside_city
  - id: aviation
    label: Aviation
    id_match: ^aviation

  categories:
  - id: motorbike
    label: Motorcycle
  - id: car
    label: Passenger Car
  - id: light_duty
    label: Light Duty
  - id: bus
    label: Bus
  - id: single_unit_truck
    label: Single Unit Truck
  - id: combination_unit_truck
    label: Combination Unit Truck
  - id: car_petrol
    label: Passenger cars / Petrol
  - id: car_diesel
    label: Passenger cars / Diesel
  - id: car_natural_gas_biogas
    label: Passenger cars / Natural gas / biogas
  - id: car_plugin_hybrid
    label: Passenger cars / Plug-in hybrid
  - id: car_batteryelectric
    label: Passenger cars / Battery-Electric
  - id: car_fuel_cell
    label: Passenger cars / Fuel cell
  - id: motorbike_petrol_4stroke
    label: Motorbikes / Petrol 4-stroke engine
  - id: motorbike_petrol_2stroke
    label: Motorbikes / Petrol 2-stroke engine
  - id: motorbike_batteryelectric
    label: Motorbikes / Battery-Electric
  - id: buses_diesel
    label: Regular buses / Diesel
  - id: buses_diesel_hybrid
    label: Regular buses / Diesel hybrid
  - id: buses_diesel_plugin_hybrid
    label: Regular buses / Diesel plug-in hybrid
  - id: buses_batteryelectric
    label: Regular buses / Battery-Electric
  - id: buses_fuel_cell
    label: Regular buses / Fuel cell
  - id: trolley
    label: Trolley buses
  - id: coach_diesel
    label: Coaches / Diesel
  - id: coach_natural_gas_biogas
    label: Coaches / Natural gas/Biogas
  - id: coach_battery_electric
    label: Coaches / Battery-Electric
  - id: coach_fuel_cell
    label: Coaches / Fuel cell
  - id: lorry_diesel
    label: Lorries / Diesel
  - id: lorry_natural_gas_biogas
    label: Lorries / Natural gas/Biogas
  - id: lorry_diesel_plugin_hybrid
    label: Lorries / Diesel plug-in hybrid
  - id: lorry_battery_electric
    label: Lorries / Battery-Electric
  - id: lorry_fuel_cell
    label: Lorries / Fuel cell
  - id: van_petrol
    label: Vans / Petrol
  - id: van_diesel
    label: Van / Diesel
  - id: van_natural_gas_biogas
    label: Van / Natural gas/Biogas
  - id: van_diesel_plugin_hybrid
    label: Van / Plug-in hybrid
  - id: van_battery_electric
    label: Van / Battery-Electric
  - id: van_fuel_cell
    label: Van / Fuel cell
  - id: tram
    label: Tram
  - id: small_railways
    label: Small railways
  - id: rail_passenger
    label: Rail (passenger transport)
  - id: rail_goods
    label: Rail (goods transport)
  - id: liner_ship_diesel
    label: Liner ship / Diesel
  - id: liner_ship_battery_electric
    label: Liner ship / Battery-Electric
  - id: private_ship_petrol
    label: Private ships / Petrol
  - id: private_ship_diesel
    label: Private ships / Diesel
  - id: private_ship_battery_electric
    label: Private ships / Battery-Electric
  - id: mobility_outside_city
    label: Mobility ourside the city (excl. aviation)
  - id: aviation
    label: Aviation

- id: greenhouse_gases
  label: Greenhouse gases
  categories:
  - id: co2_eq
    label: CO2 equivalent
  - id: co2
    label: CO2, fossil
    aliases: [co2_fossil]
  - id: ch4
    label: CH4
  - id: n2o
    label: N2O
  - id: hfc
    label: HFC
  - id: pfc
    label: PFC
  - id: sf6
    label: SF6
  - id: nf3
    label: NF3
  - id: co2_biogen
    label: CO2, biogen

- id: energy_carrier
  label: Energy carrier
  categories:
  - id: electricity
    label: Electricity
  - id: fuel_oil
    label: Heating oil
  - id: petrol
    label: Gasoline
    aliases: [Petrol]
  - id: diesel
    label: Diesel
  - id: plug_in_hybrid
    label: Plug-in hybrid EV
  - id: kerosene
    label: Kerosene
  - id: natural_gas
    label: Natural gas
  - id: biogas
    label: biogas
  - id: propane
    label: Propane
  - id: district_heat
    label: District heating
  - id: wood
    label: Wood
  - id: environmental_heat
    label: Environmental heat
  - id: solar_collectors
    label: Solar thermal collectors
  - id: waste
    label: Waste

- id: electricity_source
  label: Electricity source
  categories:
  - id: hydro
    label: Hydropower
  - id: nuclear
    label: Nuclear power
  - id: natural_gas
    label: Natural gas
  - id: solar
    label: Solar
  - id: biogas
    label: Biogas
  - id: waste
    label: Waste incineration
  - id: wind
    label: Wind
  - id: wood
    label: Wood
  - id: fuel_oil
    label: Heating oil
  - id: import
    label: European import
    aliases:
    - UCTE-Mix / ENTSO-E Mix
    - Nicht deklariert (UCTE)
    - Nicht deklariert (UCTE-Mix)
  - id: subsidized
    label: Subsidized electricity

- id: site
  label: Production or consumption site
  categories:
  - id: longmont_power
    label: Longmont Power
  - id: xcel_energy
    label: Xcel Energy
  - id: various
    label: Various
  - id: home
    label: Home

- id: use_type
  label: Use type
  categories:
  - id: commercial
    label: Commercial and industrial
  - id: residential
    label: Residential
  - id: streetlights
    label: Streetlights

params:
- id: municipality_name
  value: longmont

emission_sectors:
- id: net_emissions
  name: Greenhouse gas emissions
  input_node_dimension:
    label: Emission sectors
  target_year_goal: 6.5
  goals:
    normalized_by: population
    values:
    - year: 2040
      value: 6.5
  is_outcome: true
  description: '''

- id: transportation_emissions
  name: Transportation emissions
#  part_of: net_emissions
  color: #E22D53
  input_dataset_processors: [LinearInterpolation]

- id: waste_treatment_emissions
  name: Waste disposal
#  part_of: net_emissions
  color: #F18830
  category: waste_treatment
  input_dataset_processors: [LinearInterpolation]

- id: ippu_emissions
  name: Industrial and commercial process emissions
#  part_of: net_emissions
  category: ippu
  color: #8DAFBC
  input_dataset_processors: [LinearInterpolation]

- id: afolu_emissions
  name: Agriculture and forestry emissions
  category: afolu
#  part_of: net_emissions
  input_dataset_processors: [LinearInterpolation]

- id: aviation_emissions
  name: Aviation
#  part_of: net_emissions
  category: aviation
  color: #A174DE
  input_dataset_processors: [LinearInterpolation]

- id: food_consumption_emissions
  name: Food consumption emissions
  category: food_consumption
#  part_of: net_emissions
  color: #BCE59E
  input_dataset_processors: [LinearInterpolation]

- id: textile_consumption_emissions
  name: Textile consumption emissions
  category: textile_consumption
#  part_of: net_emissions
  color: #FBCB97
  input_dataset_processors: [LinearInterpolation]

- id: other_consumption_emissions
  name: Other consumption emissions
  category: other_consumption
#  part_of: net_emissions
  color: #2AC7C7
  input_dataset_processors: [LinearInterpolation]
'''

nodes:
- id: population
  type: simple.AdditiveNode
  quantity: population
  unit: cap
  name: Inhabitants
  historical_values: [[2010, 86270], [2020, 98885]]
  forecast_values: [[2030, 98885], [2040, 98885], [2050, 98885]]
  input_dataset_processors: [LinearInterpolation]

- id: global_warming_potential_100a
  name: Global warming potential 100 a
  type: emissions.GlobalWarmingPotential
  quantity: emission_factor
  unit: dimensionless
  output_dimensions: [greenhouse_gases]
  input_dataset_processors: [LinearInterpolation]
  historical_values: [[1990, 1], [2021, 1]]

- id: building_electricity_consumption
  name: Housing and commerce electricity consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_datasets:
  - longmont/stationary_electricity_use
  output_nodes:
  - electricity_consumption
  output_dimensions: [use_type, site]

- id: electricity_consumption
  name: Electricity consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [use_type, site]
  output_dimensions: [use_type, site]

- id: electricity_emission_factor
  name: Emission factor of electricity production
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t/MWh
  input_datasets:
  - longmont/electricity_emission_factor
  output_dimensions: [site, greenhouse_gases]

- id: electricity_consumption_emissions
  name: Electricity consumption emissions
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  output_dimensions: [greenhouse_gases, use_type, site]
  input_nodes:
  - id: electricity_consumption
    to_dimensions:
    - id: use_type
    - id: site
  - id: electricity_emission_factor
    to_dimensions:
    - id: greenhouse_gases
    - id: site
  output_nodes:
  - id: building_emissions
    from_dimensions:
    - id: site
      flatten: true
    to_dimensions:
    - id: greenhouse_gases
    - id: use_type

- id: natural_gas_consumption
  name: Natural gas consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: Mthm/a
  input_datasets:
  - longmont/stationary_natural_gas_use
  input_dimensions: [use_type, energy_carrier]
  output_dimensions: [use_type, energy_carrier]

- id: emission_factor_natural_gas
  name: Emission factor of natural gas
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t/thm
  input_datasets:
  - longmont/emission_factor_natural_gas
  output_dimensions: [energy_carrier, greenhouse_gases]

- id: natural_gas_consumption_emissions
  name: Natural gas consumption emissions
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  output_dimensions: [greenhouse_gases, use_type, energy_carrier]
  input_nodes:
  - id: natural_gas_consumption
    to_dimensions:
    - id: use_type
    - id: energy_carrier
  - id: emission_factor_natural_gas
    to_dimensions:
    - id: greenhouse_gases
    - id: energy_carrier
  output_nodes:
  - id: building_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    to_dimensions:
    - id: greenhouse_gases
    - id: use_type

- id: stationary_fuel_consumption
  name: Stationary fuel consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: gal/a
  input_datasets:
  - longmont/stationary_fuel_use
  input_dimensions: [use_type, energy_carrier]
  output_dimensions: [use_type, energy_carrier]

- id: emission_factor_fuel
  name: Emission factor of stationary fuels
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t/gal
  input_datasets:
  - longmont/emission_factor_fuels
  output_dimensions: [energy_carrier, greenhouse_gases]

- id: stationary_fuel_consumption_emissions
  name: Stationary fuel consumption emissions
  description: 1) Stationary Diesel Use data was provided by Adam Wozniak at CDPHE. Spreadsheet on file.
    2) Xcel Energy emission factor, electricity and natural gas usage data, and renewable energy data
    is from Xcel's 2021 Community Energy Report for Longmont, on file. 
    3) Longmont Power & Communications data provided by Chuck Finleon. PDF on file. Per Francie Jaffe.
    The commercial buildings in Longmont's Weld County portion consumed 31,000,000 kWh in 2021.
    4) T&D losses are calculated for Xcel and Longmont based on the EIA 861
    (https://www.eia.gov/electricity/data/eia861/) reported data. Specifically the Utility
    Operational Data_2021. Spreadsheet on file.
    5) Propane data provided by Matt Hanson with FerrellGas. Spreadsheet on file.
    6) Houses heated with wood were pulled from the US Census Bureau, data on file. It was assumed
    that all of the houses heated by wood in Longmont fell within the Boulder County portion of Longmont.
    7) Longmont Power and Communications data was provided in an email by Chuck Finleon with
    Longmont Power & Communications. PDF on file.
    8) Longmont Power & Communications and Lyons Municipal rooftop solar data was provided in kW of
    capacity rather than kWh generated. NREL's PVWatts wasused to estimate kWh generated by rooftop
    solar systems. PDF of results on file. See https://pvwatts.nrel.gov/
    10) Due to Xcel's 15/15 rule, with less than 15 customers in the commercial and residential
    data sets they cannot provide usage for those customers to avoid violating privacy concerns.
    Therefore Lotus applied the average residential and commercial kWh use from LPC to the 7
    residential and commercial customers (respectively) in Xcel territory to estimate use.
    11) PRPA emission factor and transmission and distribution loss rate for 2021 was provided by
    Francie Jaffe. Email on file. Emissions factor value represents Longmont's load share emissions
    rate without unbundled RECs. 
    12) PRPA provided data on Longmont's equity share of emissions, which are based on the resource
    mix of all power purchased, generated, and supplied by PRPA to it's customers. Longmont's equity
    share of emissions represents the City's 26.13% ownership in PRPA, and therefore the same share
    of responsibility for PRPA's emissions generated in 2021. This equity share value is provided
    here for information only, and is not included in GPC totals. The use of electricity supplied
    by PRPA in Longmont (i.e., Longmont's load share emissions) is included in the calculation of
    total PRPA  emissions. To avoid double counting the emissions associated with the electricity
    consumed in Longmont, Longmont's additional equity share emissions are calculated in cell E90. 
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  output_dimensions: [greenhouse_gases, use_type, energy_carrier]
  input_nodes:
  - id: stationary_fuel_consumption
    to_dimensions:
    - id: use_type
    - id: energy_carrier
  - id: emission_factor_fuel
    to_dimensions:
    - id: greenhouse_gases
    - id: energy_carrier
  output_nodes:
  - id: building_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    to_dimensions:
    - id: greenhouse_gases
    - id: use_type

- id: stationary_wood_consumption
  name: Stationary wood consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: MMBtu/a
  input_datasets:
  - longmont/stationary_wood_consumption
  input_dimensions: [use_type]
  output_dimensions: [use_type]

- id: emission_factor_wood
  name: Emission factor of wood
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: kg/MMBtu
  input_datasets:
  - longmont/emission_factor_wood
  output_dimensions: [energy_carrier, greenhouse_gases]

- id: wood_consumption_emissions
  name: Wood consumption emissions
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  output_dimensions: [greenhouse_gases, use_type, energy_carrier]
  input_nodes:
  - id: stationary_wood_consumption
    to_dimensions:
    - id: use_type
    - id: energy_carrier
      categories: [wood]
  - id: emission_factor_wood
    to_dimensions:
    - id: greenhouse_gases
    - id: energy_carrier
  output_nodes:
  - id: building_emissions
    from_dimensions:
    - id: energy_carrier
      flatten: true
    to_dimensions:
    - id: greenhouse_gases
    - id: use_type

- id: electricity_loss_fraction
  name: Electricity loss fraction
  type: simple.AdditiveNode
  quantity: fraction
  unit: '%'
  input_datasets:
  - longmont/transmission_and_distribution_loss
  output_dimensions: [energy_carrier, site]
  output_nodes:
  - id: electricity_losses
    from_dimensions:
    - id: energy_carrier
      categories: [electricity]
      flatten: true
    to_dimensions:
    - id: site

- id: electricity_losses
  name: Electricity losses
  type: simple.MultiplicativeNode
  quantity: energy
  unit: GWh/a
  input_dimensions: [site, use_type]
  output_dimensions: [site, use_type]
  input_nodes:
  - id: building_electricity_consumption
    tags: [non_additive]

- id: electricity_loss_emissions
  name: Emissions due to electricity losses
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: t/a
  input_nodes:
  - id: electricity_losses
    to_dimensions:
    - id: use_type
    - id: site
  - id: electricity_emission_factor
    to_dimensions:
    - id: site
    - id: greenhouse_gases
  output_dimensions: [site, greenhouse_gases, use_type]
  output_nodes:
  - id: electricity_consumption_emissions
#    from_dimensions:
#      flatten: true
    to_dimensions:
    - id: site
    - id: use_type
    - id: greenhouse_gases

  description: '''

- id: building_energy_consumption_emission_factor
  name: Emission factor of housing and commerce energy consumption
  type: ch.zuerich.EmissionFactor
  quantity: emission_factor
  unit: g/kWh
  input_datasets:
  - zuerich/buildings_energy_consumption_emission_factor_revised
  output_dimensions: [energy_carrier, emission_scope]
  input_nodes:
  - id: electricity_emission_factor
    to_dimensions:
    - id: energy_carrier
      categories: [electricity]
    - id: emission_scope

- id: environmental_heat_consumption
  name: Environmental heat consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a

- id: environmental_heat_emission_factor
  name: Emission factor of environmental heat
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: g/kWh
  output_dimensions: [emission_scope]
  input_nodes:
  - id: building_energy_consumption_emission_factor
    from_dimensions:
    - id: energy_carrier
      categories: [environmental_heat]
      flatten: true
    to_dimensions:
    - id: emission_scope

- id: environmental_heat_emissions
  name: Environmental heat emissions
  type: simple.EmissionFactorActivity
  quantity: emissions
  unit: kt/a
  output_dimensions: [emission_scope]
  input_nodes:
  - environmental_heat_consumption
  - id: environmental_heat_emission_factor
    to_dimensions:
    - id: emission_scope
#  output_nodes: [building_emissions]

- id: fossil_fuel_heat_consumption
  name: Fossil fuel heat consumption
  type: simple.AdditiveNode
  input_dimensions:
  - energy_carrier
  output_dimensions:
  - energy_carrier
  quantity: energy
  unit: GWh/a

- id: fossil_fuel_heat_emissions
  name: Fossil fuel heat consumption emissions
  type: ch.zuerich.EmissionFactorActivity
  quantity: emissions
  unit: kt/a
  input_nodes:
  - id: fossil_fuel_heat_consumption
  - id: building_energy_consumption_emission_factor
    to_dimensions:
    - id: emission_scope
    - id: energy_carrier
  input_dimensions: [energy_carrier]
  output_dimensions: [emission_scope]
#  output_nodes: [building_emissions]

- id: building_other_energy_consumption
  name: Other building heat consumption
  type: simple.AdditiveNode
  input_dimensions:
  - energy_carrier
  output_dimensions:
  - energy_carrier
  quantity: energy
  unit: GWh/a
  output_nodes: [building_other_energy_emissions]

- id: building_other_energy_emissions
  name: Other building heat consumption emissions
  type: ch.zuerich.EmissionFactorActivity
  quantity: emissions
  input_dimensions: [energy_carrier]
  output_dimensions: [emission_scope]
  unit: kt/a
  input_nodes:
  - id: building_energy_consumption_emission_factor
    to_dimensions:
    - id: emission_scope
    - id: energy_carrier
#  output_nodes: [building_emissions]
'''

- id: building_emissions
  name: Stationary emissions
  color: '#002F96'
  unit: kt/a
  quantity: emissions
  type: simple.SectorEmissions
  input_dimensions: [greenhouse_gases, use_type]
  output_dimensions: [greenhouse_gases, use_type]
  output_nodes:
  - id: net_emissions
    from_dimensions:
    - id: use_type
      flatten: true
  description: '''
#
# TRANSPORTATION
#

- id: transport_shares
  name: Fuel spread by vehicle type
  type: simple.AdditiveNode
  quantity: fraction
  unit: %
  input_datasets:
  - longmont/fuel_spread_by_vehicle_type
  output_dimensions: [energy_carrier, vehicle_type]

- id: transport_mileage
  name: Vehicle kilometers
  type: ch.zuerich.VehicleMileage
  quantity: mileage
  unit: km/a
  input_dataset_processors: [LinearInterpolation]
  input_datasets:
  - zuerich/vehicle_mileage
  output_nodes:
  - id: car_emissions
    from_dimensions:
    - id: vehicle_type
      groups: [cars]
    to_dimensions:
    - id: vehicle_type
  - id: other_road_transport_emissions
    from_dimensions:
    - id: vehicle_type
      groups: [motorbikes, buses, trolleybuses, coaches, lorries, vans]
    to_dimensions:
    - id: vehicle_type
  - id: other_transport_emissions
    from_dimensions:
    - id: vehicle_type
      groups: [cars, motorbikes, buses, trolleybuses, coaches, lorries, vans]
      exclude: true
    to_dimensions:
    - id: vehicle_type

- id: transport_electricity_consumption_factor
  name: Transport electricity consumption
  type: ch.zuerich.TransportElectricity
  quantity: consumption_factor
  unit: kWh/km
  output_dimensions: [vehicle_type]
  input_dataset_processors: [LinearInterpolation]
  input_datasets:
  - zuerich/fuel_consumption_factor

- id: transport_fuel_factor
  name: Transport fuel factors
  type: ch.zuerich.TransportFuelFactor
  quantity: mileage
  unit: kg/km
  # input_dataset_processors: [LinearInterpolation]
  input_datasets:
  - zuerich/fuel_consumption_factor

- id: transport_emission_factor
  name: Transport emission factors
  type: ch.zuerich.TransportEmissionFactor
  quantity: emission_factor
  unit: g/km
  input_dataset_processors: [LinearInterpolation]
  input_datasets:
  - zuerich/transport_emission_factors
  input_nodes:
  - id: electricity_emission_factor
    tags: [general_electricity]
    to_dimensions:
    - id: emission_scope
  - id: transport_electricity_consumption_factor
    tags: [electricity_consumption_factor]
    to_dimensions:
    - id: vehicle_type
  output_dimensions: [emission_scope, vehicle_type]

- id: other_road_transport_emissions
  name: Road transportation emissions
  type: ch.zuerich.TransportEmissions
  input_nodes: [transport_emission_factor]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true

- id: car_emissions
  name: Car emissions
  type: ch.zuerich.TransportEmissions
  input_nodes: [transport_emission_factor]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true

- id: other_transport_emissions
  name: Other transportation emissions
  type: ch.zuerich.TransportEmissions
  input_nodes: [transport_emission_factor]
  output_nodes:
  - id: transportation_emissions
    from_dimensions:
    - id: vehicle_type
      flatten: true
#
# ------- ACTIONS --------
#
actions:
- id: fossil_fuels_from_heating
  name: Replacement of fossil fuels in heating
  type: shift.ShiftAction
  quantity: energy
  description_en: If all 21 000 oil and gas heatings are replaced by heat pumps, direct
    building emissions are reduced by 1.6 tCO<sub>2</sub>eq/(inh.*a).
  output_nodes:
  - fossil_fuel_heat_consumption
  - environmental_heat_consumption
  - building_other_energy_consumption
  unit: GWh/a
  params:
  - id: shift
    unit: GWh/a
    is_customizable: false
    value:
    - source:
        node: fossil_fuel_heat_consumption
        categories:
          energy_carrier: fuel_oil
      dests:
      - node: environmental_heat_consumption
      - node: building_other_energy_consumption
        categories:
          energy_carrier: wood
      amounts:
      - year: 2023
        source_amount: -50
        dest_amounts: [80, 25]
      - year: 2025
        source_amount: -70
        dest_amounts: [80, 25]
      - year: 2035
        source_amount: -50
        dest_amounts: [80, 25]

    - source:
        node: fossil_fuel_heat_consumption
        categories:
          energy_carrier: natural_gas
      dests:
      - node: environmental_heat_consumption
      - node: building_other_energy_consumption
        categories:
          energy_carrier: wood
      amounts:
      - year: 2023
        source_amount: -100
        dest_amounts: [80, 16, 25]
      - year: 2025
        source_amount: -150
        dest_amounts: [80, 16, 25]
      - year: 2035
        source_amount: -100
        dest_amounts: [80, 16, 25]

#- id: cleaner_electricity_production
#  name: Cleaner electricity production
#  type: shift.ShiftAction
#  quantity: mix
#  description_en: Electricity production shift to cleaner methods.
#  output_nodes:
#  - id: electricity_consumption
#    to_dimensions:
#    - id: electricity_source
#  unit: %
#  params:
#  - id: shift
#    unit: %
#    is_customizable: false
#    value:
#    - source:
#        categories:
#          electricity_source: import
#      dests:
#      - categories:
#          electricity_source: solar
#      - categories:
#          electricity_source: wind
#      amounts:
#      - year: 2023
#        source_amount: -2
#        dest_amounts: [50, 50]
#      - year: 2030
#        source_amount: -2
#        dest_amounts: [50, 50]
#      - year: 2035
#        source_amount: 0
#        dest_amounts: [50, 50]

- id: electrify_cars
  name: Electrify cars
  type: shift.ShiftAction
  quantity: mix
  description_en: Electricity production shift to cleaner methods.
  output_nodes:
  - id: transport_mileage
  unit: Mkm/a
  params:
  - id: shift
    unit: Mkm/a
    is_customizable: false
    value:
    - source:
        categories:
          vehicle_type: car_diesel
      dests:
      - categories:
          vehicle_type: car_batteryelectric
      amounts:
      - year: 2023
        source_amount: -30
        dest_amounts: [50]
      - year: 2030
        source_amount: -50
        dest_amounts: [50]
      - year: 2035
        source_amount: 0
        dest_amounts: [50]
    - source:
        categories:
          vehicle_type: car_petrol
      dests:
      - categories:
          vehicle_type: car_batteryelectric
      amounts:
      - year: 2023
        source_amount: -30
        dest_amounts: [50]
      - year: 2030
        source_amount: -50
        dest_amounts: [50]
      - year: 2035
        source_amount: 0
        dest_amounts: [50]
'''

actions:
- id: commercial_power_purchase_program
  name: Commercial power purchase program
  type: simple.CumulativeAdditiveAction
  quantity: energy
  unit: kWh/a
  forecast_values: [[2022, 0], [2023, -3544251]]
  output_nodes:
  - id: building_electricity_consumption
    to_dimensions:
    - id: use_type
      categories: [commercial]
    - id: site
      categories: [longmont_power]

- id: residential_power_purchase_program
  name: Residential power purchase program
  type: simple.CumulativeAdditiveAction
  quantity: energy
  unit: kWh/a
  forecast_values: [[2022, 0], [2023, -3550001]]
  output_nodes:
  - id: building_electricity_consumption
    to_dimensions:
    - id: use_type
      categories: [residential]
    - id: site
      categories: [longmont_power]

- id: residential_rooftop_solar
  name: Residential rooftop solar
  type: simple.CumulativeAdditiveAction
  quantity: energy
  unit: kWh/a
  forecast_values: [[2022, 0], [2023, -5080497]]
  output_nodes:
  - id: building_electricity_consumption
    to_dimensions:
    - id: use_type
      categories: [residential]
    - id: site
      categories: [longmont_power]

- id: longmont_equity_share_platte_river_power_authority
  name: Longmont equity share emissions from Platte River Power Authority
  type: simple.CumulativeAdditiveAction
  quantity: emissions  # FIXME Is this negative emission or what happens here?
  unit: t/a
  forecast_values: [[2022, 0], [2023, 307035]]
  output_nodes:
  - id: building_emissions
    to_dimensions:
    - id: use_type
      categories: [residential]
    - id: greenhouse_gases
      categories: [co2_eq]

pages:
- id: home
  name: Longmont Greenhouse Gas Inventory
  path: /
  type: emission
  node: direct_emissions
  lead_title_en: Development version
  lead_paragraph_en: This is a test version of the City of Zürich's interactive scenario
    modeling platform for the Net Zero goal. All information on this website is to
    be considered incomplete and experimental.

scenarios:
- id: baseline
  name: Baseline

- id: default
  default: true
  name: Net Zero 2040
  all_actions_enabled: true

##################
# DESCRIPTION OF DATA AND CALCULATIONS
# 
