id: budget
default_language: en
supported_languages: [fi]
site_url: https://budget.paths.test.kausal.dev
dataset_repo:
  url: https://github.com/kausaltech/dvctest.git
  commit: 00f0a9789bde35ba32e8fa7c45717fcaeda2b18e
  dvc_remote: kausal-s3
  default_path: budget
name: Climate budgeting sandbox
owner: Kausal Ltd
theme_identifier: default
target_year: 2040
model_end_year: 2040
minimum_historical_year: 2010
maximum_historical_year: 2023
emission_unit: kt/a
emission_forecast_from: 2023
#emission_dimensions: [emission_scope]
emission_dataset: tampere/scenarios/emissions/bau
#emission_sector_dimension: emission_sectors
features:
  baseline_visible_in_graphs: true
  show_accumulated_effects: true
  show_significant_digits: 3
terms:
  enabled_label: Is implemented
  action_group_label: Group
params:
- id: municipality_name
  value: sunnydale
- id: action_impact_from_baseline
  value: true

action_efficiency_pairs:
- graph_type: return_of_investment
  cost_node: investments
  impact_node: returns
  invert_cost: false
  invert_impact: false
  indicator_unit: '%'
  cost_unit: MEUR
  impact_unit: MEUR
  label: Return of investment
- graph_type: cost_benefit
  cost_node: test_investments
  impact_node: discounted_costs
  invert_cost: true
  invert_impact: true
  indicator_unit: MEUR
  cost_unit: MEUR
  impact_unit: MEUR
  stakeholder_dimension: stakeholder
  outcome_dimension: outcome_of_interest
  label: Cost-benefit analysis

dimensions:

- id: scope
  label: Emission scope
  label_fi: Päästöluokka
  categories:
  - id: scope1
    label: Scope 1
    label_fi: Scope 1
  - id: scope2
    label: Scope 2
    label_fi: Scope 2
  - id: scope3
    label: Scope 3
    label_fi: Scope 3

- id: gpc
  label: GPC framework
  label_fi: GPC-viitekehys
  categories:
  - id: residential
    label: I.1 Residential
    label_fi: Asuinrakennukset
  - id: commercial
    label: I.2 Commercial
    label_fi: Liikerakennukset
  - id: manufacturing
    label: I.3 Manufacturing
    label_fi: Teollisuus
  - id: energy
    label: I.4 Energy
    label_fi: Energiantuotanto
  - id: agriculture
    label: I.5 Agriculture, Forestry & Fishing
    label_fi: Maa- ja metsätalous, kalastus
  - id: nonspecified
    label: I.6 Non-Specified
    label_fi: Määrittelemätön
  - id: fugitive
    label: I.7,8 Fugitive
    label_fi: Vuodot
  - id: onroad
    label: II.1 On-road Transport
    label_fi: Tieliikenne
  - id: railways
    label: II.2 Railways
    label_fi: Raideliikenne
  - id: waterborne
    label: II.3 Waterborne
    label_fi: Vesiliikenne
  - id: aviation
    label: II.4 Aviation
    label_fi: Lentoliikenne
  - id: offroad
    label: II.5 Off-Road Transport
    label_fi: Maastoliikenne
  - id: solidwaste
    label: III.1 Solid Waste
    label_fi: Kiinetä jäte
  - id: biowaste
    label: III.2 Biological Waste
    label_fi: Biojäte
  - id: incineration
    label: III.3 Incineration
    label_fi: Jätteenpoltto
  - id: wastewater
    label: III.4 Wastewater
    label_fi: Jätevesi

- id: greenhouse_gases
  label: Greenhouse Gases
  label_fi: Kasvihuonekaasu
  categories:
  - id: co2e
    label: CO2 Equivalent
  - id: co2
    label: CO2
  - id: ch4
    label: CH4
  - id: n2o
    label: N2O

- id: account
  label: Account
  label_fi: Tili
  groups:
  - id: costs
    label: Costs
    label_fi: Menot
  categories:
  - id: income
    label: Income
    label_fi: Tulot
  - id: capex
    label: Capital costs
    label_fi: Investointikustannukset
    group: costs
  - id: opex
    label: Operational costs
    label_fi: Käyttökustannukset
    group: costs
  - id: savings
    label: Savings
    label_fi: Säästöt
  - id: payments
    label: Payments
    label_fi: Maksut

- id: energy_carrier
  label: Energy carrier
  label_fi: Energialähde
  categories:
  - id: aviation_gasoline
    label: Aviation gasoline
    label_fi: Lentopolttoneste
  - id: diesel
    label: Diesel
    label_fi: Diesel
  - id: electricity
    label: Electricity
    label_fi: Sähkö
  - id: fuel_oil
    label: Fuel oil
    label_fi: Polttoöljy
  - id: gasoline
    label: Gasoline
    label_fi: Bensiini
  - id: kerosene
    label: Kerosene
    label_fi: Kerosiini
  - id: natural_gas
    label: Natural gas
    label_fi: Maakaasu
  - id: propane
    label: Propane
    label_fi: Propaani

- id: vehicle_type
  label: Vehicle type
  label_fi: Ajoneuvotyyppi
  categories:
  - id: walking
    label: Walking
    label_fi: Kävely
  - id: cycling
    label: Cycling
    label_fi: Pyöräily
  - id: bus
    label: Bus
    label_fi: Bussi
  - id: tram
    label: Tram
    label_fi: Ratikka
  - id: car
    label: Car
    label_fi: Auto

- id: stakeholder
  label: Stakeholder
  label_fi: Sidosryhmä
  categories:
  - id: city
    label: City
    label_fi: Kaupunki
  - id: citizen
    label: Citizen
    label_fi: Kaupunkilaiinen
  - id: society
    label: Society
    label_fi: Yhteiskunta

- id: outcome_of_interest
  label: Outcome of interest
  label_fi: Kiinnostava tulos
  categories:
  - id: infrastructure_investment
    label: Infrastructure investment
    label_fi: Infrastruktuuri-investointi
  - id: infrastructure_maintenance
    label: Infrastructure maintenance
    label_fi: Infrastruktuurin ylläpito
  - id: transit_operations
    label: Transit operations
    label_fi: Liikennöinti
  - id: ticket_sales
    label: Ticket sales
    label_fi: Lipputulot
  - id: vehicle_usage
    label: Vehicle usage
    label_fi: Ajoneuvon käyttö
  - id: travel_time
    label: Travel time
    label_fi: Matka-aika
  - id: health
    label: Health
    label_fi: Terveys
  - id: healthcare_cost
    label: Healthcare cost
    label_fi: Terveydenhuollon kustannus
  - id: accidents
    label: Accidents
    label_fi: Onnettomuudet
  - id: climate_change
    label: Climate change
    label_fi: Ilmastonmuutos
  - id: air_pollution
    label: Air pollution
    label_fi: Ilmansaaste
  - id: noise
    label: Noise
    label_fi: Melu

- id: action
  label: Action
  label_fi: Toimenpide
  categories:
  - id: baseline
    label: Baseline
    label_fi: Perusura
  - id: activity
    label: Activity
    label_fi: Toiminto

################### GPC Framework

emission_sectors:

################### Emissions 1st level
- id: net_emissions
  name: Net emissions
  is_outcome: true
- id: stationary_emissions
  name: I Stationary
  part_of: net_emissions
  color: '#ff4f57'
- id: transport_emissions
  name: II Transport
  part_of: net_emissions
  color: '#0047b6'
- id: waste_emissions
  name: III Waste
  part_of: net_emissions
  color: '#014B30'

################## Emissions 2nd level
- id: residential_emissions
  name: 'I.1 Residential Emissions'
  part_of: stationary_emissions
- id: commercial_emissions
  name: 'I.2 Commercial & Institutional Emissions'
  part_of: stationary_emissions
- id: manufacturing_emissions
  name: 'I.3 Manufacturing Emissions'
  part_of: stationary_emissions
- id: energy_emissions
  name: 'I.4 Energy Emissions'
  part_of: stationary_emissions
- id: agriculture_emissions
  name: 'I.5 Ag, Forestry & Fishing Emissions'
  part_of: stationary_emissions
- id: nonspecified_emissions
  name: 'I.6 Non-Specified Emissions'
  part_of: stationary_emissions
- id: fugitive_emissions
  name: 'I.7 Fugitive Emissions Emissions'
  part_of: stationary_emissions
- id: onroad_emissions
  name: 'II.1 On-Road Transport Emissions'
  part_of: transport_emissions
- id: railways_emissions
  name: 'II.2 Railways Emissions'
  part_of: transport_emissions
- id: waterborne_emissions
  name: 'II.3 Waterborne Emissions'
  part_of: transport_emissions
- id: aviation_emissions
  name: 'II.4 Aviation Emissions'
  part_of: transport_emissions
- id: offroad_emissions
  name: 'II.5 Off-Road Transport Emissions'
  part_of: transport_emissions
- id: solidwaste_emissions
  name: 'III.1 Solid Waste Emissions'
  part_of: waste_emissions
- id: biowaste_emissions
  name: 'III.2 Biological Waste Emissions'
  part_of: waste_emissions
- id: incineration_emissions
  name: 'III.3 Incineration Emissions'
  part_of: waste_emissions
- id: wastewater_emissions
  name: 'III.4 Wastewater Emissions'
  part_of: waste_emissions

nodes:

################## Emissions 3rd level
- id: residential_fuel
  name: 'I.1.1 Residential: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [residential_emissions]
- id: residential_grid
  name: 'I.1.2 Residential: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [residential_emissions]
- id: commercial_fuel
  name: 'I.2.1 Commercial & Institutional: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [commercial_emissions]
- id: commercial_grid
  name: 'I.2.2 Commercial & Institutional: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [commercial_emissions]
- id: manufacturing_fuel
  name: 'I.3.1 Manufacturing: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [manufacturing_emissions]
- id: manufacturing_grid
  name: 'I.3.2 Manufacturing: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [manufacturing_emissions]
- id: energy_fuel
  name: 'I.4.1 Energy: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [energy_emissions]
- id: energy_grid
  name: 'I.4.2 Energy: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [energy_emissions]
- id: agriculture_fuel
  name: 'I.5.1 Ag, Forestry & Fishing: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [agriculture_emissions]
- id: agriculture_grid
  name: 'I.5.2 Ag, Forestry & Fishing: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [agriculture_emissions]
- id: nonspecified_fuel
  name: 'I.6.1 Non-Specified: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [nonspecified_emissions]
- id: nonspecified_grid
  name: 'I.6.2 Non-Specified: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [nonspecified_emissions]
- id: fugitive_coal
  name: 'I.7.1 Fugitive Emissions: Coal'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [fugitive_emissions]
- id: fugitive_oil
  name: 'I.8.1 Fugitive Emissions: Oil & Natural Gas'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [stationary_activity, stationary_emission_factor]
  output_nodes: [fugitive_emissions]
- id: onroad_fuel
  name: 'II.1.1 On-Road Transport: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [transport_activity, transport_emission_factor]
  output_nodes: [onroad_emissions]
- id: onroad_grid
  name: 'II.1.2 On-Road Transport: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [transport_activity, transport_emission_factor]
  output_nodes: [onroad_emissions]
- id: railways_fuel
  name: 'II.2.1 Railways: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [transport_activity, transport_emission_factor]
  output_nodes: [railways_emissions]
- id: railways_grid
  name: 'II.2.2 Railways: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [transport_activity, transport_emission_factor]
  output_nodes: [railways_emissions]
- id: waterborne_fuel
  name: 'II.3.1 Waterborne: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [transport_activity, transport_emission_factor]
  output_nodes: [waterborne_emissions]
- id: waterborne_grid
  name: 'II.3.2 Waterborne: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [transport_activity, transport_emission_factor]
  output_nodes: [waterborne_emissions]
- id: aviation_fuel
  name: 'II.4.1 Aviation: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [transport_activity, transport_emission_factor]
  output_nodes: [aviation_emissions]
- id: aviation_grid
  name: 'II.4.2 Aviation: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [transport_activity, transport_emission_factor]
  output_nodes: [aviation_emissions]
- id: offroad_fuel
  name: 'II.5.1 Off-Road Transport: Fuel Combustion'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [transport_activity, transport_emission_factor]
  output_nodes: [offroad_emissions]
- id: offroad_grid
  name: 'II.5.2 Off-Road Transport: Grid Energy'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [transport_activity, transport_emission_factor]
  output_nodes: [offroad_emissions]
- id: solidwaste_within
  name: 'III.1.1 Solid Waste: Disposed Within City'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [waste_activity, waste_emission_factor]
  output_nodes: [solidwaste_emissions]
- id: solidwaste_outside
  name: 'III.1.2 Solid Waste: Disposed Outside City'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [waste_activity, waste_emission_factor]
  output_nodes: [solidwaste_emissions]
- id: biowaste_within
  name: 'III.2.1 Biological Waste: Treated Within City'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [waste_activity, waste_emission_factor]
  output_nodes: [biowaste_emissions]
- id: biowaste_outside
  name: 'III.2.2 Biological Waste: Treated Outside City'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [waste_activity, waste_emission_factor]
  output_nodes: [biowaste_emissions]
- id: incineration_within
  name: 'III.3.1 Incineration: Treated Within City'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [waste_activity, waste_emission_factor]
  output_nodes: [incineration_emissions]
- id: incineration_outside
  name: 'III.3.2 Incineration: Treated Outside City'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [waste_activity, waste_emission_factor]
  output_nodes: [incineration_emissions]
- id: wastewater_within
  name: 'III.4.1 Wastewater: Treated Within City'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [waste_activity, waste_emission_factor]
  output_nodes: [wastewater_emissions]
- id: wastewater_outside
  name: 'III.4.2 Wastewater: Treated Outside City'
  type: simple.MultiplicativeNode
  quantity: emissions
  unit: kt/a
  input_nodes: [waste_activity, waste_emission_factor]
  output_nodes: [wastewater_emissions]

########### OTHER

- id: population2
  type: finland.population.Population
  name: Population
  input_datasets:
  - id: statfi/StatFin/vrm/vaerak/statfin_vaerak_pxt_11re
    filters:
    - column: Alue
      value: Espoo
  - id: statfi/StatFin/vrm/vaenn/statfin_vaenn_pxt_139f
    filters:
    - column: Alue
      value: Espoo

- id: population
  name: Population
  name_fi: Väestö
  type: simple.AdditiveNode
  quantity: population
  unit: cap
  historical_values: [[2010, 250000]]

- id: building_fuel_use
  name: Building fuel use
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_nodes: [stationary_activity]  # FIXME Split more precisely when the data is there

- id: building_electricity_use
  name: Building electricity use
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  input_nodes: [stationary_activity]  # FIXME Split more precisely when the data is there

- id: fuel_emission_factors
  name: Fuel emission factors
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: t/l
#  output_dimensions: [energy_carrier]
  historical_values: [[2010, 1]]
#  input_datasets:
#  - id: saskatoon/fuel_emission_factor
#    filters:
#      - dimension: greenhouse_gases
#        categories: co2
#      - dimension: energy_carrier
#        categories: aviation_gasoline
#        flatten: false

- id: stationary_activity
  name: Stationary activity
  type: values.AssociationNode
  quantity: energy
  unit: GWh/a
  historical_values: [[2010, 1]]
  output_nodes: [total_energy_consumption]

- id: transport_activity
  name: Transport activity
  type: values.AssociationNode
  quantity: energy
  unit: GWh/a
  historical_values: [[2010, 1]]
  output_nodes: [total_energy_consumption]

- id: waste_activity
  name: Waste activity
  type: values.AssociationNode
  quantity: mass
  unit: m**3/a
  historical_values: [[2010, 1]]

- id: total_energy_consumption
  name: Total energy consumption
  type: simple.AdditiveNode
  quantity: energy
  unit: GWh/a
  is_outcome: true

- id: stationary_emission_factor
  name: Stationary emission_factor
  type: values.AssociationNode
  quantity: emission_factor
  unit: g/kWh
  historical_values: [[2010, 1]]

- id: transport_emission_factor
  name: Transport emission factor
  type: values.AssociationNode
  quantity: emission_factor
  unit: g/kWh
  historical_values: [[2010, 1]]

- id: waste_emission_factor
  name: Waste emission factor
  type: values.AssociationNode
  quantity: emission_factor
  unit: kg/m**3
  historical_values: [[2010, 1]]

- id: electricity_emission_factors
  name: Electricity emission factors
  type: simple.AdditiveNode
  quantity: emission_factor
  unit: kg/kWh
  historical_values: [[2010, 1]]

- id: investments
  name: Investments
  type: values.AssociationNode
  quantity: currency
  unit: MEUR/a
  historical_values: [[2010, 100]]

- id: returns
  name: Returns
  type: simple.FixedMultiplierNode
  quantity: currency
  unit: MEUR/a
  input_nodes: [net_emissions]
  params:
  - id: multiplier
    value: -100
    unit: EUR/t

- id: walking
  name: Walking
  name_fi: Kävely
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mpkm/a
  historical_values: [[2005, 0]]
#  input_nodes:
#  - id: population
#  - id: mode_activity

- id: cycling
  name: Cycling
  name_fi: Pyöräily
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mpkm/a
  historical_values: [[2005, 0]]
#  input_nodes:
#  - id: population
#  - id: mode_activity

- id: bus_transit
  name: Bus transit
  name_fi: Bussiliikenne
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mpkm/a
  historical_values: [[2005, 0]]
#  input_nodes:
#  - id: population
#  - id: mode_activity

- id: tram_transit
  name: Tram transit
  name_fi: Ratikkaliikenne
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mpkm/a
  historical_values: [[2005, 0]]

- id: mode_activity
  name: Mode activity
  name_fi: Suorite liikkumismuodoittain
  type: simple.AdditiveNode
  quantity: mileage
  unit: pkm/cap/d
  historical_values: [[2010, 1.24], [2022, 1.24]]
  input_dataset_processors: [LinearInterpolation]

- id: person_mileage_car
  name: Person mileage in cars
  name_fi: Henkilökilometrit autolla
  type: simple.AdditiveNode
  quantity: mileage
  unit: Mpkm/a
  historical_values: [[2005, 0], [2023, 0]]
  input_dataset_processors: [LinearInterpolation]

#- id: vehicle_mileage_car
#  name: Car vehicle mileage
#  name_fi: Liikennesuorite henkilöautolla
#  type: simple.MultiplicativeNode
#  quantity: mileage
#  unit: Mvkm/a
#  input_nodes:
#  - id: person_mileage_car
#  - id: vehicle_load
#    metric: car

- id: vehicle_load
  name: Persons in vehicle
  name_fi: Keskikuormitus ajoneuvossa
  type: simple.AdditiveNode
  quantity: mileage
  unit: vkm/pkm
  historical_values: [[2010, 1.7]]

- id: unit_prices
  name: Unit prices
  name_fi: Yksikkökustannukset
  type: simple.AdditiveNode
  quantity: currency
  unit: EUR/pkm
  input_datasets:
  - id: budget/unit_prices_of_transportation
  input_dataset_processors: [LinearInterpolation]
  output_dimensions: [vehicle_type, outcome_of_interest]

- id: outcome_stakeholder_matrix
  name: Outcome stakeholder matrix
  type: simple.AdditiveNode
  quantity: fraction
  unit: dimensionless
  input_datasets:
  - id: budget/outcome_stakeholder_matrix
  input_dataset_processors: [LinearInterpolation]
  input_dimensions: [stakeholder, outcome_of_interest]
  output_dimensions: [stakeholder, outcome_of_interest]

- id: passenger_km
  name: Total passenger kilometers
  name_fi: Matkustajakilometrit yhteensä
  type: simple.RelativeNode
  quantity: mileage
  unit: Mpkm/a
  input_nodes:
  - id: walking
    to_dimensions:
    - id: vehicle_type
      categories: [walking]
  - id: cycling
    to_dimensions:
    - id: vehicle_type
      categories: [cycling]
  - id: bus_transit
    to_dimensions:
    - id: vehicle_type
      categories: [bus]
  - id: tram_transit
    to_dimensions:
    - id: vehicle_type
      categories: [tram]
  - id: person_mileage_car
    to_dimensions:
    - id: vehicle_type
      categories: [car]
  input_dimensions: [vehicle_type]
  output_dimensions: [vehicle_type]

- id: costs
  name: Costs of transportation
  name_fi: Liikenteen kustannukset
  type: simple.MultiplicativeNode
  quantity: currency
  unit: MEUR/a
  is_outcome: true
  input_nodes:
  - id: unit_prices
    to_dimensions:
    - id: outcome_of_interest
    - id: vehicle_type
  - id: passenger_km
    to_dimensions:
    - id: vehicle_type
  - id: outcome_stakeholder_matrix
    to_dimensions:
    - id: outcome_of_interest
    - id: stakeholder
  input_dimensions: [vehicle_type, outcome_of_interest, stakeholder]
  output_dimensions: [outcome_of_interest, stakeholder, vehicle_type]

- id: discounted_costs
  name: Discounted costs
  name_fi: Diskontatut kustannukset
  type: costs.ExponentialNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [stakeholder, outcome_of_interest]
  output_dimensions: [stakeholder, outcome_of_interest]
  input_nodes:
  - id: costs
    from_dimensions:
    - id: vehicle_type
      flatten: true
  params:
  - id: annual_change
    value: 3.0
    unit: '%'
    min_value: 0.0
    max_value: 5.0
  - id: is_decreasing_rate
    value: true

- id: test_investments
  name: Test node for traffic investments
  type: simple.FixedMultiplierNode
  quantity: currency
  unit: MEUR/a
  input_dimensions: [stakeholder, outcome_of_interest]
  output_dimensions: [stakeholder, outcome_of_interest]
  input_nodes:
  - discounted_costs
  params:
  - id: multiplier
    value: 0.2

- id: streetlight_energy_saving
  name: Energy saved by LED streetlights
  type: simple.FixedMultiplierNode
  quantity: energy
  unit: MWh/a
  output_nodes: [stationary_activity]
  params:
  - id: multiplier
    value: -130
    unit: kWh/a/pcs

- id: pv_energy_saving
  name: Energy saved by PV
  type: simple.FixedMultiplierNode
  quantity: energy
  unit: MWh/a
  output_nodes: [stationary_activity]
  params:
  - id: multiplier
    value: -130
    unit: kWh/a/pcs

- id: renovation_energy_saving
  name: Energy saved by building renovations
  type: simple.FixedMultiplierNode
  quantity: energy
  unit: MWh/a
  output_nodes: [stationary_activity]
  params:
  - id: multiplier
    value: -130
    unit: kWh/a/pcs

- id: oil_energy_saving
  name: Energy saved by removing oil heating
  type: simple.FixedMultiplierNode
  quantity: energy
  unit: MWh/a
  output_nodes: [stationary_activity]
  params:
  - id: multiplier
    value: -130
    unit: kWh/a/pcs

- id: city_fleet_energy_saving
  name: Energy saved by electrifying city fleet
  type: simple.FixedMultiplierNode
  quantity: energy
  unit: MWh/a
  output_nodes: [transport_activity]
  params:
  - id: multiplier
    value: -130
    unit: kWh/a/pcs

- id: public_transport_energy_saving
  name: Energy saved by electrifying public transport
  type: simple.FixedMultiplierNode
  quantity: energy
  unit: MWh/a
  output_nodes: [transport_activity]
  params:
  - id: multiplier
    value: -130
    unit: kWh/a/pcs

actions:

- id: led_streetlights
  name: Change streetlights to LED
  type: values.BudgetingAction
  quantity: number
  unit: pcs
  input_datasets:
  - id: budget/action_costs
    forecast_from: 2024
    column: number
  output_nodes:
  - id: streetlight_energy_saving
    from_dimensions:
    - id: account
      flatten: true
  output_dimensions: [account]
  params:
  - id: scale_by
    value: 5
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Scale the action by this factor
  - id: postpone_by
    value: 0
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Postpone the action by this many years

- id: pv_electricity
  name: Build renewable electricity production (PV)
  type: values.BudgetingAction
  quantity: number
  unit: pcs
  input_datasets:
  - id: budget/action_costs
    forecast_from: 2024
    column: number
  output_nodes:
  - id: pv_energy_saving
    from_dimensions:
    - id: account
      flatten: true
  output_dimensions: [account]
  params:
  - id: scale_by
    value: 5
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Scale the action by this factor
  - id: postpone_by
    value: 0
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Postpone the action by this many years

- id: building_renovations
  name: Energy efficiency renovations in buildings
  type: values.BudgetingAction
  quantity: number
  unit: pcs
  input_datasets:
  - id: budget/action_costs
    forecast_from: 2024
    column: number
  output_nodes:
  - id: renovation_energy_saving
    from_dimensions:
    - id: account
      flatten: true
  output_dimensions: [account]
  params:
  - id: scale_by
    value: 5
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Scale the action by this factor
  - id: postpone_by
    value: 0
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Postpone the action by this many years

- id: oil_to_geothermal
  name: Change oil to geothermal heating
  type: values.BudgetingAction
  quantity: number
  unit: pcs
  input_datasets:
  - id: budget/action_costs
    forecast_from: 2024
    column: number
  output_nodes:
  - id: oil_energy_saving
    from_dimensions:
    - id: account
      flatten: true
  output_dimensions: [account]
  params:
  - id: scale_by
    value: 5
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Scale the action by this factor
  - id: postpone_by
    value: 0
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Postpone the action by this many years

- id: city_fleet_to_electric
  name: Replace city fleet with electric vehicles
  type: values.BudgetingAction
  quantity: number
  unit: pcs
  input_datasets:
  - id: budget/action_costs
    forecast_from: 2024
    column: number
  output_nodes:
  - id: city_fleet_energy_saving
    from_dimensions:
    - id: account
      flatten: true
  output_dimensions: [account]
  params:
  - id: scale_by
    value: 5
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Scale the action by this factor
  - id: postpone_by
    value: 0
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Postpone the action by this many years

- id: electrify_public_transportation
  name: Electrify public transportation
  type: values.BudgetingAction
  quantity: number
  unit: pcs
  input_datasets:
  - id: budget/action_costs
    forecast_from: 2024
    column: number
  output_nodes:
  - id: public_transport_energy_saving
    from_dimensions:
    - id: account
      flatten: true
  output_dimensions: [account]
  params:
  - id: scale_by
    value: 5
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Scale the action by this factor
  - id: postpone_by
    value: 0
    min_value: 0
    max_value: 10
    is_visible: true
    is_customizable: true
    label: Postpone the action by this many years

- id: sustainable_transportation
  name: Some sustainable transportation action
  name_fi: Jokin toimenpide kestävän liikkumisen lisäämiseksi
  type: simple.TrajectoryAction
  quantity: mileage
  unit: Mpkm/a
  input_datasets:
  - id: budget/passenger_kilometers_by_action
    column: mileage
    forecast_from: 2024
  params:
  - id: dimension
    value: action
  - id: category
    value: activity
  output_dimensions: [vehicle_type]
  output_nodes:
  - id: walking
    from_dimensions:
    - id: vehicle_type
      categories: [walking]
      flatten: true
  - id: cycling
    from_dimensions:
    - id: vehicle_type
      categories: [cycling]
      flatten: true
  - id: bus_transit
    from_dimensions:
    - id: vehicle_type
      categories: [bus]
      flatten: true
  - id: tram_transit
    from_dimensions:
    - id: vehicle_type
      categories: [tram]
      flatten: true
  - id: person_mileage_car
    from_dimensions:
    - id: vehicle_type
      categories: [car]
      flatten: true

pages:
- id: home
  name: Budget sandbox
  path: /
  type: emission
  outcome_node: net_emissions
  lead_title: Sandbox for budgeting
  lead_paragraph: Testing budgeting functionalities

scenarios:

- id: baseline
  name: Baseline

- id: default
  name: Default
  default: true
  all_actions_enabled: true
